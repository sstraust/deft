shadow$provide.module$node_modules$libphonenumber_js$build$format = function(global, require, module, exports) {
  function _typeof(o) {
    "@babel/helpers - typeof";
    return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o) {
      return typeof o;
    } : function(o) {
      return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
    }, _typeof(o);
  }
  function _interopRequireWildcard(e, t) {
    if ("function" == typeof WeakMap) {
      var r = new WeakMap(), n = new WeakMap();
    }
    return (_interopRequireWildcard = function(e, t) {
      if (!t && e && e.__esModule) {
        return e;
      }
      var i, f = {__proto__:null, "default":e};
      if (null === e || "object" != _typeof(e) && "function" != typeof e) {
        return f;
      }
      if (t = t ? n : r) {
        if (t.has(e)) {
          return t.get(e);
        }
        t.set(e, f);
      }
      for (var _t in e) {
        "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (t = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? t(f, _t, i) : f[_t] = e[_t]);
      }
      return f;
    })(e, t);
  }
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : {"default":e};
  }
  function formatNationalNumber(number, carrierCode, formatAs, metadata, options) {
    var format = chooseFormatForNumber(metadata.formats(), number);
    return format ? (0,_formatNationalNumberUsingFormat["default"])(number, format, {useInternationalFormat:"INTERNATIONAL" === formatAs, withNationalPrefix:format.nationalPrefixIsOptionalWhenFormattingInNationalFormat() && options && !1 === options.nationalPrefix ? !1 : !0, carrierCode, metadata}) : number;
  }
  function chooseFormatForNumber(availableFormats, nationalNumber) {
    return pickFirstMatchingElement(availableFormats, function(format) {
      if (0 < format.leadingDigitsPatterns().length) {
        var lastLeadingDigitsPattern = format.leadingDigitsPatterns()[format.leadingDigitsPatterns().length - 1];
        if (0 !== nationalNumber.search(lastLeadingDigitsPattern)) {
          return !1;
        }
      }
      return (0,_matchesEntirely["default"])(nationalNumber, format.pattern());
    });
  }
  function merge() {
    for (var i = 1, _len = arguments.length, objects = Array(_len), _key = 0; _key < _len; _key++) {
      objects[_key] = arguments[_key];
    }
    for (; i < objects.length;) {
      if (objects[i]) {
        for (var key in objects[i]) {
          objects[0][key] = objects[i][key];
        }
      }
      i++;
    }
    return objects[0];
  }
  function pickFirstMatchingElement(elements, testFunction) {
    for (var i = 0; i < elements.length;) {
      if (testFunction(elements[i])) {
        return elements[i];
      }
      i++;
    }
  }
  Object.defineProperty(exports, "__esModule", {value:!0});
  exports.chooseFormatForNumber = chooseFormatForNumber;
  exports["default"] = function(input, format, options, metadata) {
    options = options ? merge({}, DEFAULT_OPTIONS, options) : DEFAULT_OPTIONS;
    metadata = new _metadata["default"](metadata);
    if (input.country && "001" !== input.country) {
      if (!metadata.hasCountry(input.country)) {
        throw Error("Unknown country: ".concat(input.country));
      }
      metadata.selectNumberingPlan(input.country);
    } else if (input.countryCallingCode) {
      metadata.selectNumberingPlan(input.countryCallingCode);
    } else {
      return input.phone || "";
    }
    var countryCallingCode = metadata.countryCallingCode(), nationalNumber = options.v2 ? input.nationalNumber : input.phone;
    switch(format) {
      case "NATIONAL":
        if (!nationalNumber) {
          return "";
        }
        countryCallingCode = nationalNumber = formatNationalNumber(nationalNumber, input.carrierCode, "NATIONAL", metadata, options);
        return (input = input.ext) ? (0,options.formatExtension)(countryCallingCode, input, metadata) : countryCallingCode;
      case "INTERNATIONAL":
        if (!nationalNumber) {
          return "+".concat(countryCallingCode);
        }
        nationalNumber = formatNationalNumber(nationalNumber, null, "INTERNATIONAL", metadata, options);
        countryCallingCode = nationalNumber = "+".concat(countryCallingCode, " ").concat(nationalNumber);
        return (input = input.ext) ? (0,options.formatExtension)(countryCallingCode, input, metadata) : countryCallingCode;
      case "E.164":
        return "+".concat(countryCallingCode).concat(nationalNumber);
      case "RFC3966":
        return (0,_RFC.formatRFC3966)({number:"+".concat(countryCallingCode).concat(nationalNumber), ext:input.ext});
      case "IDD":
        if (!options.fromCountry) {
          break;
        }
        var carrierCode = input.carrierCode, fromCountry = options.fromCountry;
        format = metadata;
        (0,_metadata.getCountryCallingCode)(fromCountry, format.metadata) === countryCallingCode ? (nationalNumber = formatNationalNumber(nationalNumber, carrierCode, "NATIONAL", format), countryCallingCode = "1" === countryCallingCode ? countryCallingCode + " " + nationalNumber : nationalNumber) : countryCallingCode = (carrierCode = (0,_getIddPrefix["default"])(fromCountry, void 0, format.metadata)) ? "".concat(carrierCode, " ").concat(countryCallingCode, " ").concat(formatNationalNumber(nationalNumber, 
        null, "INTERNATIONAL", format)) : void 0;
        return (input = input.ext) ? (0,options.formatExtension)(countryCallingCode, input, metadata) : countryCallingCode;
      default:
        throw Error('Unknown "format" argument passed to "formatNumber()": "'.concat(format, '"'));
    }
  };
  var _matchesEntirely = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$matchesEntirely")), _formatNationalNumberUsingFormat = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$formatNationalNumberUsingFormat")), _metadata = _interopRequireWildcard(require("module$node_modules$libphonenumber_js$build$metadata")), _getIddPrefix = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$getIddPrefix")), 
  _RFC = require("module$node_modules$libphonenumber_js$build$helpers$RFC3966"), DEFAULT_OPTIONS = {formatExtension:function(formattedNumber, extension, metadata) {
    return "".concat(formattedNumber).concat(metadata.ext()).concat(extension);
  }};
};

//# sourceMappingURL=module$node_modules$libphonenumber_js$build$format.js.map
