shadow$provide.module$node_modules$libphonenumber_js$build$AsYouTypeFormatter = function(global, require, module, exports) {
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : {"default":e};
  }
  function _interopRequireWildcard(e, t) {
    if ("function" == typeof WeakMap) {
      var r = new WeakMap(), n = new WeakMap();
    }
    return (_interopRequireWildcard = function(e, t) {
      if (!t && e && e.__esModule) {
        return e;
      }
      var i, f = {__proto__:null, "default":e};
      if (null === e || "object" != _typeof(e) && "function" != typeof e) {
        return f;
      }
      if (t = t ? n : r) {
        if (t.has(e)) {
          return t.get(e);
        }
        t.set(e, f);
      }
      for (var _t in e) {
        "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (t = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? t(f, _t, i) : f[_t] = e[_t]);
      }
      return f;
    })(e, t);
  }
  function _typeof(o) {
    "@babel/helpers - typeof";
    return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o) {
      return typeof o;
    } : function(o) {
      return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
    }, _typeof(o);
  }
  function _createForOfIteratorHelperLoose(r, e) {
    var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"];
    if (t) {
      return (t = t.call(r)).next.bind(t);
    }
    if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) {
      t && (r = t);
      var o = 0;
      return function() {
        return o >= r.length ? {done:!0} : {done:!1, value:r[o++]};
      };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  function _unsupportedIterableToArray(r, a) {
    if (r) {
      if ("string" == typeof r) {
        return _arrayLikeToArray(r, a);
      }
      var t = {}.toString.call(r).slice(8, -1);
      return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;
    }
  }
  function _arrayLikeToArray(r, a) {
    (null == a || a > r.length) && (a = r.length);
    for (var e = 0, n = Array(a); e < a; e++) {
      n[e] = r[e];
    }
    return n;
  }
  function _defineProperties(e$jscomp$0, r) {
    for (var t = 0; t < r.length; t++) {
      var o = r[t];
      o.enumerable = o.enumerable || !1;
      o.configurable = !0;
      "value" in o && (o.writable = !0);
      var JSCompiler_temp_const = Object, JSCompiler_temp_const$jscomp$0 = JSCompiler_temp_const.defineProperty;
      a: {
        var JSCompiler_inline_result = o.key;
        if ("object" == _typeof(JSCompiler_inline_result) && JSCompiler_inline_result) {
          var e = JSCompiler_inline_result[Symbol.toPrimitive];
          if (void 0 !== e) {
            JSCompiler_inline_result = e.call(JSCompiler_inline_result, "string");
            if ("object" != _typeof(JSCompiler_inline_result)) {
              break a;
            }
            throw new TypeError("@@toPrimitive must return a primitive value.");
          }
          JSCompiler_inline_result = String(JSCompiler_inline_result);
        }
      }
      JSCompiler_inline_result = "symbol" == _typeof(JSCompiler_inline_result) ? JSCompiler_inline_result : JSCompiler_inline_result + "";
      JSCompiler_temp_const$jscomp$0.call(JSCompiler_temp_const, e$jscomp$0, JSCompiler_inline_result, o);
    }
  }
  function _createClass(e, r, t) {
    return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", {writable:!1}), e;
  }
  Object.defineProperty(exports, "__esModule", {value:!0});
  Object.defineProperty(exports, "DIGIT_PLACEHOLDER", {enumerable:!0, get:function() {
    return _AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER;
  }});
  exports["default"] = void 0;
  var _AsYouTypeFormatterUtil = require("module$node_modules$libphonenumber_js$build$AsYouTypeFormatter_util"), _AsYouTypeFormatterComplete = _interopRequireWildcard(require("module$node_modules$libphonenumber_js$build$AsYouTypeFormatter_complete")), _AsYouTypeFormatterPatternMatcher = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$AsYouTypeFormatter_PatternMatcher")), _parseDigits = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$parseDigits")), 
  _formatNationalNumberUsingFormat = require("module$node_modules$libphonenumber_js$build$helpers$formatNationalNumberUsingFormat");
  global = require("module$node_modules$libphonenumber_js$build$constants");
  var _applyInternationalSeparatorStyle = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$applyInternationalSeparatorStyle")), LONGEST_DUMMY_PHONE_NUMBER = (0,_AsYouTypeFormatterUtil.repeat)("9", 15), NATIONAL_PREFIX_SEPARATORS_PATTERN = /[- ]/, NON_ALTERING_FORMAT_REG_EXP = new RegExp("[" + global.VALID_PUNCTUATION + "]*\\$1[" + global.VALID_PUNCTUATION + "]*(\\$\\d[" + global.VALID_PUNCTUATION + "]*)*$");
  exports["default"] = function() {
    function AsYouTypeFormatter(_ref) {
      _ref = _ref.metadata;
      if (!(this instanceof AsYouTypeFormatter)) {
        throw new TypeError("Cannot call a class as a function");
      }
      this.metadata = _ref;
      this.resetFormat();
    }
    return _createClass(AsYouTypeFormatter, [{key:"resetFormat", value:function() {
      this.populatedNationalNumberTemplate = this.nationalNumberTemplate = this.template = this.chosenFormat = void 0;
      this.populatedNationalNumberTemplatePosition = -1;
    }}, {key:"reset", value:function(numberingPlan, state) {
      this.resetFormat();
      numberingPlan ? (this.isNANP = "1" === numberingPlan.callingCode(), this.matchingFormats = numberingPlan.formats(), state.nationalSignificantNumber && this.narrowDownMatchingFormats(state)) : (this.isNANP = void 0, this.matchingFormats = []);
    }}, {key:"format", value:function(nextDigits, state) {
      var _this = this;
      if ((0,_AsYouTypeFormatterComplete.canFormatCompleteNumber)(state.nationalSignificantNumber, state.country, this.metadata)) {
        for (var _iterator = _createForOfIteratorHelperLoose(this.matchingFormats), _step; !(_step = _iterator()).done;) {
          _step = _step.value;
          var formattedCompleteNumber = (0,_AsYouTypeFormatterComplete["default"])(state, _step, {metadata:this.metadata, shouldTryNationalPrefixFormattingRule:function(format) {
            return _this.shouldTryNationalPrefixFormattingRule(format, {international:state.international, nationalPrefix:state.nationalPrefix});
          }, getSeparatorAfterNationalPrefix:function(format) {
            return _this.getSeparatorAfterNationalPrefix(format);
          }});
          if (formattedCompleteNumber) {
            return this.resetFormat(), this.chosenFormat = _step, this.setNationalNumberTemplate(formattedCompleteNumber.replace(/\d/g, _AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER), state), this.populatedNationalNumberTemplate = formattedCompleteNumber, this.populatedNationalNumberTemplatePosition = this.template.lastIndexOf(_AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER), formattedCompleteNumber;
          }
        }
      }
      return this.formatNationalNumberWithNextDigits(nextDigits, state);
    }}, {key:"formatNationalNumberWithNextDigits", value:function(nextDigits, state) {
      var previouslyChosenFormat = this.chosenFormat, newlyChosenFormat = this.chooseFormat(state);
      if (newlyChosenFormat) {
        return newlyChosenFormat === previouslyChosenFormat ? this.formatNextNationalNumberDigits(nextDigits) : this.formatNextNationalNumberDigits(state.getNationalDigits());
      }
    }}, {key:"narrowDownMatchingFormats", value:function(_ref2) {
      var _this2 = this, nationalPrefix = _ref2.nationalPrefix, international = _ref2.international, leadingDigits = _ref2.nationalSignificantNumber, leadingDigitsPatternIndex = leadingDigits.length - 3;
      0 > leadingDigitsPatternIndex && (leadingDigitsPatternIndex = 0);
      this.matchingFormats = this.matchingFormats.filter(function(format) {
        return _this2.formatSuits(format, international, nationalPrefix) && _this2.formatMatches(format, leadingDigits, leadingDigitsPatternIndex);
      });
      this.chosenFormat && -1 === this.matchingFormats.indexOf(this.chosenFormat) && this.resetFormat();
    }}, {key:"formatSuits", value:function(format, international, nationalPrefix) {
      return nationalPrefix && !format.usesNationalPrefix() && !format.nationalPrefixIsOptionalWhenFormattingInNationalFormat() || !international && !nationalPrefix && format.nationalPrefixIsMandatoryWhenFormattingInNationalFormat() ? !1 : !0;
    }}, {key:"formatMatches", value:function(format, leadingDigits, leadingDigitsPatternIndex) {
      var leadingDigitsPatternsCount = format.leadingDigitsPatterns().length;
      if (0 === leadingDigitsPatternsCount) {
        return !0;
      }
      leadingDigitsPatternIndex = Math.min(leadingDigitsPatternIndex, leadingDigitsPatternsCount - 1);
      format = format.leadingDigitsPatterns()[leadingDigitsPatternIndex];
      if (3 > leadingDigits.length) {
        try {
          return void 0 !== (new _AsYouTypeFormatterPatternMatcher["default"](format)).match(leadingDigits, {allowOverflow:!0});
        } catch (error) {
          return console.error(error), !0;
        }
      }
      return (new RegExp("^(".concat(format, ")"))).test(leadingDigits);
    }}, {key:"getFormatFormat", value:function(format, international) {
      return international ? format.internationalFormat() : format.format();
    }}, {key:"chooseFormat", value:function(state) {
      for (var _this3 = this, _loop = function() {
        var format = _step2.value;
        if (_this3.chosenFormat === format) {
          return 0;
        }
        if (!NON_ALTERING_FORMAT_REG_EXP.test(_this3.getFormatFormat(format, state.international))) {
          return 1;
        }
        if (!_this3.createTemplateForFormat(format, state)) {
          return _this3.matchingFormats = _this3.matchingFormats.filter(function(_) {
            return _ !== format;
          }), 1;
        }
        _this3.chosenFormat = format;
        return 0;
      }, _ret, _iterator2 = _createForOfIteratorHelperLoose(this.matchingFormats.slice()), _step2; !(_step2 = _iterator2()).done && (_ret = _loop(), 0 !== _ret);) {
      }
      this.chosenFormat || this.resetFormat();
      return this.chosenFormat;
    }}, {key:"createTemplateForFormat", value:function(format, state) {
      if (!(0 <= format.pattern().indexOf("|")) && (format = this.getTemplateForFormat(format, state))) {
        return this.setNationalNumberTemplate(format, state), !0;
      }
    }}, {key:"getSeparatorAfterNationalPrefix", value:function(format) {
      return this.isNANP || format && format.nationalPrefixFormattingRule() && NATIONAL_PREFIX_SEPARATORS_PATTERN.test(format.nationalPrefixFormattingRule()) ? " " : "";
    }}, {key:"getInternationalPrefixBeforeCountryCallingCode", value:function(_ref3, options) {
      var IDDPrefix = _ref3.IDDPrefix;
      return IDDPrefix ? options && !1 === options.spacing ? IDDPrefix : IDDPrefix + " " : _ref3.missingPlus ? "" : "+";
    }}, {key:"getTemplate", value:function(state) {
      if (this.template) {
        for (var index = -1, i = 0, internationalPrefix = state.international ? this.getInternationalPrefixBeforeCountryCallingCode(state, {spacing:!1}) : ""; i < internationalPrefix.length + state.getDigitsWithoutInternationalPrefix().length;) {
          index = this.template.indexOf(_AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER, index + 1), i++;
        }
        return (0,_AsYouTypeFormatterUtil.cutAndStripNonPairedParens)(this.template, index + 1);
      }
    }}, {key:"setNationalNumberTemplate", value:function(template, state) {
      this.populatedNationalNumberTemplate = this.nationalNumberTemplate = template;
      this.populatedNationalNumberTemplatePosition = -1;
      this.template = state.international ? this.getInternationalPrefixBeforeCountryCallingCode(state).replace(/[\d\+]/g, _AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER) + (0,_AsYouTypeFormatterUtil.repeat)(_AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER, state.callingCode.length) + " " + template : template;
    }}, {key:"getTemplateForFormat", value:function(format, _ref4) {
      var nationalSignificantNumber = _ref4.nationalSignificantNumber, international = _ref4.international, nationalPrefix = _ref4.nationalPrefix;
      _ref4 = _ref4.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix;
      var pattern = format.pattern();
      pattern = pattern.replace(/\[([^\[\]])*\]/g, "\\d").replace(/\d(?=[^,}][^,}])/g, "\\d");
      var digits = LONGEST_DUMMY_PHONE_NUMBER.match(pattern)[0];
      if (!(nationalSignificantNumber.length > digits.length)) {
        var strictPattern = new RegExp("^" + pattern + "$");
        nationalSignificantNumber = nationalSignificantNumber.replace(/\d/g, "9");
        strictPattern.test(nationalSignificantNumber) && (digits = nationalSignificantNumber);
        nationalSignificantNumber = this.getFormatFormat(format, international);
        if (this.shouldTryNationalPrefixFormattingRule(format, {international, nationalPrefix}) && (strictPattern = nationalSignificantNumber.replace(_formatNationalNumberUsingFormat.FIRST_GROUP_PATTERN, format.nationalPrefixFormattingRule()), (0,_parseDigits["default"])(format.nationalPrefixFormattingRule()) === (nationalPrefix || "") + (0,_parseDigits["default"])("$1"))) {
          nationalSignificantNumber = strictPattern;
          var nationalPrefixIncludedInTemplate = !0;
          if (nationalPrefix) {
            for (strictPattern = nationalPrefix.length; 0 < strictPattern;) {
              nationalSignificantNumber = nationalSignificantNumber.replace(/\d/, _AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER), strictPattern--;
            }
          }
        }
        pattern = digits.replace(new RegExp(pattern), nationalSignificantNumber).replace(RegExp("9", "g"), _AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER);
        nationalPrefixIncludedInTemplate || (_ref4 ? pattern = (0,_AsYouTypeFormatterUtil.repeat)(_AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER, _ref4.length) + " " + pattern : nationalPrefix && (pattern = (0,_AsYouTypeFormatterUtil.repeat)(_AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER, nationalPrefix.length) + this.getSeparatorAfterNationalPrefix(format) + pattern));
        international && (pattern = (0,_applyInternationalSeparatorStyle["default"])(pattern));
        return pattern;
      }
    }}, {key:"formatNextNationalNumberDigits", value:function(digits) {
      if (digits = (0,_AsYouTypeFormatterUtil.populateTemplateWithDigits)(this.populatedNationalNumberTemplate, this.populatedNationalNumberTemplatePosition, digits)) {
        return this.populatedNationalNumberTemplate = digits[0], this.populatedNationalNumberTemplatePosition = digits[1], (0,_AsYouTypeFormatterUtil.cutAndStripNonPairedParens)(this.populatedNationalNumberTemplate, this.populatedNationalNumberTemplatePosition + 1);
      }
      this.resetFormat();
    }}, {key:"shouldTryNationalPrefixFormattingRule", value:function(format, _ref5) {
      var international = _ref5.international;
      _ref5 = _ref5.nationalPrefix;
      if (format.nationalPrefixFormattingRule() && ((format = format.usesNationalPrefix()) && _ref5 || !format && !international)) {
        return !0;
      }
    }}]);
  }();
};

//# sourceMappingURL=module$node_modules$libphonenumber_js$build$AsYouTypeFormatter.js.map
